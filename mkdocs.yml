site_name: 大模型数据工程：架构、算法及项目实战
site_url: https://datascale-ai.github.io/data_engineering_book/
site_author: ustc
site_description: 大模型数据工程：架构、算法及项目实战

# 仓库信息 (右上角显示 GitHub 图标)
repo_name: GitHub
repo_url: https://github.com/datascale-ai/data_engineering_book/tree/main

theme:
  name: material
  language: zh
  # 禁用默认的 favicon，可以换成自己的 logo
  # logo: assets/logo.png 
  # favicon: assets/favicon.png
  
  # 关键：书籍模式的特性配置
  features:
    - navigation.sections    # 侧边栏按章节分组
    - navigation.expand      # 默认展开所有目录 (像纸质书目录一样一览无余)
    - navigation.indexes     # 允许点击章节标题页
    - navigation.top         # 返回顶部按钮
    - navigation.footer      # 底部显示 [上一章] [下一章] (书籍核心体验)
    - toc.follow             # 右侧小目录随滚动自动高亮
    - search.suggest         # 搜索建议
    - content.code.copy      # 代码块复制按钮

  # 调色盘：提供护眼模式
  palette:
    # 日间模式 (亮色)
    - media: "(prefers-color-scheme: light)"
      scheme: default
      primary: white         # 配合 CSS 将顶栏变白，降低干扰
      accent: red            # 链接高亮色 (类似红笔批注)
      toggle:
        icon: material/weather-sunny
        name: 切换至夜间模式
    
    # 夜间模式 (深色)
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      primary: black
      accent: red
      toggle:
        icon: material/weather-night
        name: 切换至日间模式

# 必选插件：增强书籍排版能力
markdown_extensions:
  - admonition               # 提示框
  - footnotes                # 脚注
  - attr_list                # 图片/元素属性控制
  - md_in_html               # 支持 HTML 混排
  - pymdownx.details         # 折叠块
  - pymdownx.superfences     # 高级代码块
  - pymdownx.arithmatex:     # 数学公式
      generic: true
  - pymdownx.highlight:      # 代码高亮
      anchor_linenums: true
  - toc:
      permalink: true        # 标题生成锚点链接

# 引入自定义样式
extra_css:
  - stylesheets/extra.css

extra_javascript:
  - javascripts/mathjax.js
  - https://polyfill.io/v3/polyfill.min.js?features=es6
  - https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js

# 目录结构
nav:
  - 目录: index.md
  - 第一部分：基础设施与核心理念:
      - 第1章：大模型时代的数据变革: chapter1/1_1_data_change.md
      - 第2章：数据基础设施选型: chapter1/1_2_data_infra.md
  - 第二部分：文本预训练数据工程:
      - 第3章：数据获取与采集: chapter2/2_1_data_acquisition.md
      - 第4章：清洗与去噪: chapter2/2_2_cleaning_denoising.md
      - 第5章：分词与序列化: chapter2/2_3_tokenization_serialization.md
  - 第三部分：多模态数据工程:
      - 第6章：图文对数据处理: chapter3/3_1.md
      - 第7章：数据重描述: chapter3/3_2.md
      - 第8章：视频与音频数据: chapter3/3_3.md
  - 第四部分：对齐与合成数据工程:
      - 第9章：指令微调数据: chapter4/4_1.md
      - 第10章：合成数据: chapter4/4_2.md
      - 第11章：人类偏好数据: chapter4/4_3.md
  - 第五部分：应用级数据工程:
      - 第12章：RAG数据流水线: chapter5/5_1_rag_pipeline.md
      - 第13章：多模态RAG: chapter5/5_2_mm_rag.md
  - 第六部分：实战项目集:
      - 项目一：构建Mini-C4预训练集: chapter6/6_1_mini_c4.md
      - 项目二：垂直领域专家SFT: chapter6/6_2_legal_sft.md
      - 项目三：构建LLaVA多模态指令集: chapter6/6_3_llava_instruct.md
      - 项目四：合成数学代码教科书: chapter6/6_4_synthetic_textbook.md
      - 项目五：多模态RAG企业财报助手: chapter6/6_5_mm_rag.md